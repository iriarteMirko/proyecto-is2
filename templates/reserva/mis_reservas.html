{% extends "base/base.html" %}

{% block content %}

{% load static %}

<main class="container py-5">
    <div class="row">
        <div class="col-lg-12 text-center mb-4">
            <h2 class="display-5" style="color: #4CAF50; font-weight: bold;">Mis Reservas</h2>
        </div>
    </div>
    {% if reservas %}
        <div class="row g-4">
            {% for reserva in reservas %}
            <div class="col-md-4">
                <a href="{% url 'detalle_reserva' reserva.id %}" class="card-link">
                    <div class="card shadow-lg">
                        <img src="{% if reserva.horario.cancha.imagen %}{{ reserva.horario.cancha.imagen.url }}{% else %}{% static 'images/default-cancha.jpg' %}{% endif %}" 
                            class="card-img-top" alt="Cancha {{ reserva.horario.cancha.nombre }}">
                        <div class="card-body">
                            <h5 class="card-title text-center mb-3" style="font-weight: 900; letter-spacing: 2px; color: #4CAF50;">
                                {{ reserva.horario.cancha.nombre }}
                            </h5>
                            <p class="card-text">
                                <strong>Fecha:</strong> {{ reserva.horario.dia|date:"M. d, Y" }}
                            </p>
                            <p class="card-text">
                                <strong>Horario:</strong> {{ reserva.hora_reserva_inicio|time:"g:i a" }} - {{ reserva.hora_reserva_fin|time:"g:i a" }}
                            </p>
                            <p class="card-text">
                                <strong>Reservado el:</strong> {{ reserva.fecha_reserva|date:"M. d, Y" }}
                            </p>
                        </div>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-center text-muted">No tienes reservas vigentes.</p>
    {% endif %}
</main>

{% include "base/message.html" %}

<style>
    .card {
        transition: transform 0.3s, box-shadow 0.3s;
    }
    .card:hover {
        transform: scale(1.05);
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    }
    a.card-link {
        text-decoration: none;
        color: inherit;
    }
    .card-img-top {
        height: 250px;
        object-fit: cover;
        width: 100%;
    }
</style>

{% endblock %}